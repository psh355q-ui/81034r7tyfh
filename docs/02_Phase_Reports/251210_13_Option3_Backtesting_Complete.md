# Option 3: λ°±ν…μ¤ν… μ‹μ¤ν… - μ™„λ£ λ³΄κ³ μ„

**λ‚ μ§**: 2025-12-06
**λ‹¨κ³„**: Option 3 - λ°±ν…μ¤ν… & μ„±κ³Ό λ¶„μ„
**μƒνƒ**: β… μ™„λ£ (COMPLETED)

---

## π“‹ μ”μ•½

κ³Όκ±° λ°μ΄ν„° μ‹λ®¬λ μ΄μ…μ„ μ‚¬μ©ν•μ—¬ Consensus + DCA μ „λµμ„ κ²€μ¦ν•λ” λ°±ν…μ¤ν… ν”„λ μ„μ›ν¬ κµ¬ν„μ„ μ™„λ£ν–μµλ‹λ‹¤.

### μ£Όμ” κµ¬ν„ κΈ°λ¥

1. β… **BacktestEngine (λ°±ν…μ¤νΈ μ—”μ§„)** - μ΄λ²¤νΈ κΈ°λ° μ‹λ®¬λ μ΄μ…μΌλ΅ μ‹¤μ μ™€ μ μ‚¬ν• ν™κ²½(μ¬λ¦¬ν”Όμ§€, μμλ£) κµ¬ν„.
2. β… **ConsensusBacktest (λ°±ν…μ¤νΈ λ¬λ„)** - AI ν•©μ ν¬ν‘λ¥Ό λ¨μ(Mock)ν•μ—¬ κ³Όκ±° λ°μ΄ν„°λ¥Ό μνν•λ©° μ‹λ®¬λ μ΄μ… μ‹¤ν–‰.
3. β… **PerformanceAnalyzer (μ„±κ³Ό λ¶„μ„κΈ°)** - Sharpe, Sortino, MDD λ“±μ κΈμµ μ§€ν‘ λ° AI ν•©μμ¨ λ¶„μ„.
4. β… **Reporting (λ¦¬ν¬ν…)** - μƒμ„Έ ν…μ¤νΈ λ³΄κ³ μ„ μλ™ μƒμ„±.

---

## π”§ κµ¬ν„ μƒμ„Έ

### μƒμ„±/μ—…λ°μ΄νΈλ νμΌ

1. **`backend/backtesting/backtest_engine.py`**
   - ν¬νΈν΄λ¦¬μ¤ μƒνƒ, κ±°λ μ‹¤ν–‰, PnL κ³„μ‚°μ„ λ‹΄λ‹Ήν•λ” ν•µμ‹¬ μ—”μ§„.
   - `DailySnapshot` λ° `BacktestPosition` λ°μ΄ν„° ν΄λμ¤ μ§€μ› μ—…λ°μ΄νΈ μ™„λ£.

2. **`backend/backtesting/consensus_backtest.py`**
   - λ‚ μ§λ³„ μ‹λ®¬λ μ΄μ…μ„ λ‹΄λ‹Ήν•λ” λ¬λ„.
   - AI ν•©μ μ‹ νΈλ¥Ό μƒμ„±(ν„μ¬λ” ν…μ¤νΈμ© Mock λ°μ΄ν„°)ν•κ³  μ—”μ§„μ„ ν†µν•΄ μ£Όλ¬Έ μ‹¤ν–‰.

3. **`backend/backtesting/consensus_performance_analyzer.py`**
   - "AI μΌμΉλ„", "DCA ν¨μ¨μ„±" λ“± μ „λµ νΉν™” μ§€ν‘ κ³„μ‚°.

4. **`scripts/run_consensus_backtest.py`**
   - μ‹λ®¬λ μ΄μ… μ‹¤ν–‰μ„ μ„ν• μ§„μ…μ  μ¤ν¬λ¦½νΈ.
   - κ²°κ³Όλ” `backtest_report.txt` νμΌλ΅ μ €μ¥λ¨.

5. **`backend/skills/trading/backtest_skill.py`**
   - **Skill Layer ν†µν•© μ™„λ£**: `Trading.Backtest` μ¤ν‚¬λ΅ μ¶”κ°€λμ–΄ μ‹μ¤ν… μ „μ²΄ μ•„ν‚¤ν…μ²μ™€ μ—°λ™λ¨.

### ν…μ¤νΈ μ‹¤ν–‰ κ²°κ³Ό (Mock λ°μ΄ν„°)

```text
================================================================================
                    CONSENSUS + DCA STRATEGY ANALYSIS
================================================================================

[PERFORMANCE METRICS]
Total Return:        -0.20%
Annualized Return:   -0.49%
Sharpe Ratio:        -0.90
Max Drawdown:        0.95%

[CONSENSUS METRICS]
Approval Rate:       41.7%
Unanimous Votes:     1 (8.3%)

[DCA EFFECTIVENESS]
Positions with DCA:  0 (0.0%)
```

*μ°Έκ³ : Mock λ°μ΄ν„°λ” λλ¤ μ›ν¬(Random Walk) κ°€κ²©κ³Ό λλ¤ ν¬ν‘λ¥Ό μ‚¬μ©ν•λ―€λ΅, κ±°λ λΉ„μ©(μμλ£, μ¬λ¦¬ν”Όμ§€)μΌλ΅ μΈν•΄ λ§μ΄λ„μ¤ μμµλ¥ μ΄ λ‚μ¤λ” κ²ƒμ΄ μ •μƒμ΄λ©°, μ΄λ” μ‹μ¤ν… λ΅μ§μ΄ μ •μƒ μ‘λ™ν•¨μ„ μλ―Έν•©λ‹λ‹¤.*

---

## π― λ‹¤μ λ‹¨κ³„ (Next Steps)

### Option 4: λ¦¬μ¤ν¬ κ΄€λ¦¬ (Risk Management)
- ν¬νΈν΄λ¦¬μ¤ λ¦¬λ°Έλ°μ‹± λ΅μ§ κµ¬ν„
- VaR (Value at Risk) λ¦¬μ¤ν¬ ν•λ„ μ„¤μ •
- μμ‚° κ°„ μƒκ΄€κ΄€κ³„ λ¶„μ„

### Production μ¤€λΉ„
- μ‹¤μ  AI API μ—°λ™ (Claude, ChatGPT, Gemini)
- KIS μ¦κ¶ μ‹¤κ³„μΆ/λ¨μν¬μ μ—°λ™
- Mock λ°μ΄ν„°λ¥Ό μ‹¤μ  κ³Όκ±° λ°μ΄ν„°λ΅ κµμ²΄
