# ë°ì´í„° ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ“‹ ì‹¤í–‰ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
# PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì— Constitutional Validation í…Œì´ë¸” ìƒì„±
psql -U postgres -d ai_trading_system -f backend/database/migrations/add_constitutional_validation_tables.sql
```

**í™•ì¸ ë°©ë²•**:
```sql
-- í…Œì´ë¸”ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸
SELECT table_name FROM information_schema.tables
WHERE table_schema = 'public'
AND table_name IN ('constitutional_validations', 'constitutional_violations');
```

### 2. í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ í™•ì¸
```bash
# .env íŒŒì¼ í™•ì¸ (ì„ íƒì‚¬í•­)
TELEGRAM_BOT_TOKEN=your_token_here  # ì•Œë¦¼ìš© (ì„ íƒ)
TELEGRAM_CHAT_ID=your_chat_id       # ì•Œë¦¼ìš© (ì„ íƒ)
SLACK_WEBHOOK_URL=your_webhook_url  # ì•Œë¦¼ìš© (ì„ íƒ)
```

### 3. ì˜ì¡´ì„± íŒ¨í‚¤ì§€ í™•ì¸
```bash
# í•„ìš”í•œ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
pip list | grep -E "sqlalchemy|aiohttp|beautifulsoup4|feedparser"
```

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ë°©ë²• 1: ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (5ë¶„ í…ŒìŠ¤íŠ¸)

**ëª©ì **: ì‹œìŠ¤í…œì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ 5ë¶„ê°„ í…ŒìŠ¤íŠ¸

```bash
cd D:\code\ai-trading-system

# í…ŒìŠ¤íŠ¸ ëª¨ë“œ ì‹¤í–‰
python scripts/start_data_accumulation.py --test
```

**ì˜ˆìƒ ë™ì‘**:
- 1ë¶„ë§ˆë‹¤ ë‰´ìŠ¤ ìˆ˜ì§‘
- ìµœëŒ€ 3ê°œ ê¸°ì‚¬ ì²˜ë¦¬
- 5ë¶„ í›„ ìë™ ì¢…ë£Œ ë˜ëŠ” 5ê°œ í† ë¡  ì™„ë£Œ ì‹œ ì¢…ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- âœ… ë‰´ìŠ¤ ê¸°ì‚¬ê°€ 1ê°œ ì´ìƒ ìˆ˜ì§‘ë¨
- âœ… War Room í† ë¡ ì´ 1ê°œ ì´ìƒ ì‹¤í–‰ë¨
- âœ… Constitutional ê²€ì¦ì´ ì •ìƒ ì‘ë™
- âœ… ë¡œê·¸ íŒŒì¼ì´ ìƒì„±ë¨

---

### ë°©ë²• 2: í”„ë¡œë•ì…˜ ëª¨ë“œ (14ì¼ ìˆ˜ì§‘)

**ëª©ì **: ì‹¤ì œ 14ì¼ê°„ ë°ì´í„° ìˆ˜ì§‘í•˜ì—¬ 100ê°œ ì´ìƒì˜ í† ë¡  ê¸°ë¡ í™•ë³´

```bash
cd D:\code\ai-trading-system

# í”„ë¡œë•ì…˜ ëª¨ë“œ ì‹¤í–‰
python scripts/start_data_accumulation.py --days 14 --debates 100
```

**ì‹¤í–‰ ë§¤ê°œë³€ìˆ˜**:
- `--days 14`: 14ì¼ê°„ ì‹¤í–‰
- `--debates 100`: 100ê°œ í† ë¡  ì™„ë£Œ ëª©í‘œ
- ê¸°ë³¸ ë‰´ìŠ¤ ì²´í¬ ê°„ê²©: 5ë¶„

**ì»¤ìŠ¤í…€ ì„¤ì • ì˜ˆì‹œ**:
```bash
# 7ì¼, 50ê°œ í† ë¡ , 10ë¶„ ê°„ê²©
python scripts/start_data_accumulation.py --days 7 --debates 50 --interval 10
```

---

### ë°©ë²• 3: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (Windows)

**ì¥ì‹œê°„ ì‹¤í–‰ ì‹œ ì¶”ì²œ**

```bash
# PowerShellì—ì„œ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
Start-Process python -ArgumentList "scripts/start_data_accumulation.py --days 14 --debates 100" -WindowStyle Hidden

# ë˜ëŠ” nohup ìŠ¤íƒ€ì¼ (Git Bash)
python scripts/start_data_accumulation.py --days 14 --debates 100 > logs/accumulation.out 2>&1 &
```

**í”„ë¡œì„¸ìŠ¤ í™•ì¸**:
```bash
# PowerShell
Get-Process python

# ì¢…ë£Œ ë°©ë²•
Stop-Process -Name python
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

**ë³„ë„ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰**:
```bash
python scripts/monitor_accumulation.py
```

**í™”ë©´ ê°±ì‹  ê°„ê²© ë³€ê²½**:
```bash
python scripts/monitor_accumulation.py --refresh 10  # 10ì´ˆë§ˆë‹¤ ê°±ì‹ 
```

**ëª¨ë‹ˆí„°ë§ ë‚´ìš©**:
- ğŸ“° ë‰´ìŠ¤ ìˆ˜ì§‘ í†µê³„
- ğŸ­ í† ë¡  ì§„í–‰ ìƒí™©
- ğŸ›ï¸ Constitutional ê²€ì¦ í†µê³„
- ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ
- ğŸ“‹ ìµœê·¼ ê²€ì¦ ê¸°ë¡

---

### ë¡œê·¸ íŒŒì¼ í™•ì¸

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ ë³´ê¸°
tail -f logs/data_accumulation.log

# ìµœê·¼ 100ì¤„
tail -n 100 logs/data_accumulation.log

# Constitutional ê²€ì¦ ë¡œê·¸
tail -f logs/constitutional_validations.jsonl
```

---

### í’ˆì§ˆ ë¦¬í¬íŠ¸ ìƒì„±

```bash
# ìµœê·¼ 7ì¼ í’ˆì§ˆ ë¦¬í¬íŠ¸
python backend/monitoring/data_quality_metrics.py --days 7

# ë¦¬í¬íŠ¸ ì €ì¥
python backend/monitoring/data_quality_metrics.py --days 7 --save
```

**ë¦¬í¬íŠ¸ ë‚´ìš©**:
- ğŸ“° ë‰´ìŠ¤ í’ˆì§ˆ ì ìˆ˜
- ğŸ­ í† ë¡  í’ˆì§ˆ (í‰ê·  ì‹ ë¢°ë„)
- ğŸ›ï¸ Constitutional ì¤€ìˆ˜ìœ¨
- ğŸ“Š ì‹œê·¸ë„ ë‹¤ì–‘ì„±
- ğŸ”§ ì‹œìŠ¤í…œ ì•ˆì •ì„±
- **ì „ì²´ í’ˆì§ˆ ì ìˆ˜** (0-100)

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ

### ìµœê·¼ ê²€ì¦ ê¸°ë¡ ì¡°íšŒ
```sql
SELECT
    ticker,
    action,
    confidence,
    is_constitutional,
    validation_timestamp
FROM constitutional_validations
ORDER BY validation_timestamp DESC
LIMIT 20;
```

### í‹°ì»¤ë³„ í†µê³¼ìœ¨
```sql
SELECT
    ticker,
    COUNT(*) as ì´ê²€ì¦ìˆ˜,
    SUM(CASE WHEN is_constitutional THEN 1 ELSE 0 END) as í†µê³¼ìˆ˜,
    ROUND(100.0 * SUM(CASE WHEN is_constitutional THEN 1 ELSE 0 END) / COUNT(*), 1) as í†µê³¼ìœ¨
FROM constitutional_validations
GROUP BY ticker
ORDER BY ì´ê²€ì¦ìˆ˜ DESC;
```

### ê°€ì¥ ë§ì€ ìœ„ë°˜ ìœ í˜•
```sql
SELECT
    violation_type as ìœ„ë°˜ìœ í˜•,
    severity as ì‹¬ê°ë„,
    COUNT(*) as ë°œìƒíšŸìˆ˜
FROM constitutional_violations
GROUP BY violation_type, severity
ORDER BY ë°œìƒíšŸìˆ˜ DESC
LIMIT 10;
```

### ì¼ë³„ í†µê³„ (ìµœê·¼ 7ì¼)
```sql
SELECT
    DATE(validation_timestamp) as ë‚ ì§œ,
    COUNT(*) as ì´ê²€ì¦ìˆ˜,
    SUM(CASE WHEN is_constitutional THEN 1 ELSE 0 END) as í†µê³¼ìˆ˜,
    SUM(CASE WHEN NOT is_constitutional THEN 1 ELSE 0 END) as ì‹¤íŒ¨ìˆ˜,
    ROUND(100.0 * SUM(CASE WHEN is_constitutional THEN 1 ELSE 0 END) / COUNT(*), 1) as í†µê³¼ìœ¨
FROM constitutional_validations
WHERE validation_timestamp >= NOW() - INTERVAL '7 days'
GROUP BY DATE(validation_timestamp)
ORDER BY ë‚ ì§œ DESC;
```

---

## ğŸ¯ ëª©í‘œ ë‹¬ì„± ê¸°ì¤€

### 14ì¼ ìˆ˜ì§‘ ëª©í‘œ

| ì§€í‘œ | ìµœì†Œ ëª©í‘œ | ìš°ìˆ˜ ëª©í‘œ |
|------|----------|----------|
| **ìˆ˜ì§‘ ê¸°ê°„** | 14ì¼ | 14ì¼ |
| **í† ë¡  ìˆ˜** | 100ê°œ | 150ê°œ+ |
| **ê³ ìœ  í‹°ì»¤ ìˆ˜** | 10ê°œ | 20ê°œ+ |
| **Constitutional í†µê³¼ìœ¨** | 90% | 95%+ |
| **í‰ê·  ì‹ ë¢°ë„** | 75% | 80%+ |
| **ì „ì²´ í’ˆì§ˆ ì ìˆ˜** | 80ì  | 85ì + |

---

## âš ï¸ ë¬¸ì œ í•´ê²°

### 1. ë‰´ìŠ¤ ê¸°ì‚¬ê°€ ìˆ˜ì§‘ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**:
```
No new articles found
```

**ì›ì¸ ë° í•´ê²°**:
- RSS í”¼ë“œ ì ‘ì† ë¶ˆê°€ â†’ ì¸í„°ë„· ì—°ê²° í™•ì¸
- Finviz ì°¨ë‹¨ â†’ User-Agentê°€ ìë™ ë¡œí…Œì´ì…˜ë˜ëŠ”ì§€ í™•ì¸
- ì¤‘ë³µ ì œê±° â†’ ì •ìƒ (ì´ë¯¸ ìˆ˜ì§‘ëœ ê¸°ì‚¬ëŠ” ìŠ¤í‚µ)

**í™•ì¸ ë°©ë²•**:
```bash
# RSS í¬ë¡¤ëŸ¬ ë‹¨ë… í…ŒìŠ¤íŠ¸
python backend/news/rss_crawler_with_db.py

# Finviz ìˆ˜ì§‘ê¸° ë‹¨ë… í…ŒìŠ¤íŠ¸
python backend/data/collectors/finviz_collector.py
```

---

### 2. ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜

**ì¦ìƒ**:
```
Table 'constitutional_validations' doesn't exist
```

**í•´ê²°**:
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¤ì‹œ ì‹¤í–‰
psql -U postgres -d ai_trading_system -f backend/database/migrations/add_constitutional_validation_tables.sql

# í…Œì´ë¸” ìƒì„± í™•ì¸
psql -U postgres -d ai_trading_system -c "\dt constitutional*"
```

---

### 3. War Room í† ë¡  ì˜¤ë¥˜

**ì¦ìƒ**:
```
Debate error: [ì—ëŸ¬ ë©”ì‹œì§€]
```

**í™•ì¸ ì‚¬í•­**:
1. Gemini API í‚¤ ì„¤ì • í™•ì¸
2. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
3. Constitutional Debate Engine ì´ˆê¸°í™” í™•ì¸

**ë¡œê·¸ í™•ì¸**:
```bash
grep -i "error" logs/data_accumulation.log | tail -20
```

---

### 4. ë‚®ì€ í’ˆì§ˆ ì ìˆ˜

**ì§„ë‹¨**:
```bash
python backend/monitoring/data_quality_metrics.py --days 7
```

**ê°œì„  ë°©ë²•**:

| ë‚®ì€ ì ìˆ˜ | ì›ì¸ | í•´ê²° ë°©ë²• |
|----------|------|----------|
| ë‰´ìŠ¤ ì»¤ë²„ë¦¬ì§€ < 50 | ìˆ˜ì§‘ëŸ‰ ë¶€ì¡± | ë‰´ìŠ¤ ì†ŒìŠ¤ ì¶”ê°€, ìˆ˜ì§‘ ë¹ˆë„ ì¦ê°€ |
| í‰ê·  ì‹ ë¢°ë„ < 60% | ì—ì´ì „íŠ¸ ë¡œì§ ë¬¸ì œ | ì—ì´ì „íŠ¸ ì½”ë“œ ê²€í† , ì„ê³„ê°’ ì¡°ì • |
| Constitutional < 90% | ìœ„ë°˜ ë‹¤ë°œ | ìœ„ë°˜ ìœ í˜• ë¶„ì„, ì—ì´ì „íŠ¸ ìˆ˜ì • |
| ì‹œê·¸ë„ ë‹¤ì–‘ì„± < 50 | í¸í–¥ëœ ìˆ˜ì§‘ | ë‹¤ì–‘í•œ ë‰´ìŠ¤ ì†ŒìŠ¤ ì¶”ê°€ |

---

## ğŸ“ˆ ì§„í–‰ ìƒí™© í™•ì¸ ë°©ë²•

### ì‹¤ì‹œê°„ í™•ì¸
```bash
# í„°ë¯¸ë„ 1: ì‹¤í–‰
python scripts/start_data_accumulation.py --days 14 --debates 100

# í„°ë¯¸ë„ 2: ëª¨ë‹ˆí„°ë§
python scripts/monitor_accumulation.py
```

### í†µê³„ íŒŒì¼ í™•ì¸
```bash
# ìµœê·¼ í†µê³„ íŒŒì¼
ls -lt logs/accumulation_stats_*.json | head -1

# JSON ë³´ê¸°
cat logs/accumulation_stats_20250127_*.json | python -m json.tool
```

### ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
```sql
-- í˜„ì¬ê¹Œì§€ ìˆ˜ì§‘ëœ ë°ì´í„°
SELECT
    COUNT(DISTINCT DATE(validation_timestamp)) as ìˆ˜ì§‘ì¼ìˆ˜,
    COUNT(*) as ì´í† ë¡ ìˆ˜,
    COUNT(DISTINCT ticker) as ê³ ìœ í‹°ì»¤ìˆ˜,
    ROUND(100.0 * SUM(CASE WHEN is_constitutional THEN 1 ELSE 0 END) / COUNT(*), 1) as í†µê³¼ìœ¨
FROM constitutional_validations;
```

---

## âœ… ì™„ë£Œ í›„ ë‹¤ìŒ ë‹¨ê³„

ë°ì´í„° ìˆ˜ì§‘ì´ ëª©í‘œì— ë„ë‹¬í•˜ë©´:

### 1. ìµœì¢… ë¦¬í¬íŠ¸ ìƒì„±
```bash
python backend/monitoring/data_quality_metrics.py --days 14 --save
```

### 2. ë°ì´í„° ë¶„ì„
- í’ˆì§ˆ ì ìˆ˜ ê²€í† 
- Constitutional ìœ„ë°˜ íŒ¨í„´ ë¶„ì„
- ì—ì´ì „íŠ¸ë³„ ì„±ëŠ¥ í‰ê°€

### 3. ê°œì„  ì‘ì—… (í•„ìš”ì‹œ)
- ë¹ˆë²ˆí•œ ìœ„ë°˜ ìœ í˜• ìˆ˜ì •
- ë‚®ì€ ì‹ ë¢°ë„ ì—ì´ì „íŠ¸ íŠœë‹
- Constitutional ê·œì¹™ ì¡°ì •

### 4. Phase 3 ì§„í–‰ (ì„ íƒ)
- Sentiment Agent ì¶”ê°€
- Risk Agent VaR ê³„ì‚°
- Analyst Agent ê²½ìŸì‚¬ ë¹„êµ

### 5. Paper Trading ì¤€ë¹„
- ê²€ì¦ëœ ì—ì´ì „íŠ¸ ì‚¬ìš©
- ì‹¤ì œ ì‹œì¥ ë°ì´í„° í…ŒìŠ¤íŠ¸
- ì„±ê³¼ ëª¨ë‹ˆí„°ë§

---

## ğŸ“ ë„ì›€ë§

**ë¬¸ì„œ**:
- ì „ì²´ ë¬¸ì„œ: [DATA_ACCUMULATION.md](DATA_ACCUMULATION.md)
- ë¹ ë¥¸ ì‹œì‘: [QUICK_START.md](QUICK_START.md)

**ë¡œê·¸ ìœ„ì¹˜**:
- `logs/data_accumulation.log` - ë©”ì¸ ë¡œê·¸
- `logs/constitutional_validations.jsonl` - ê²€ì¦ ë¡œê·¸
- `logs/accumulation_stats_*.json` - ì„¸ì…˜ í†µê³„
- `logs/quality_report_*.json` - í’ˆì§ˆ ë¦¬í¬íŠ¸

**ì‘ì„±ì¼**: 2025-12-27
