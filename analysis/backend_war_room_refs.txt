ai\skills\debugging\proposals\proposal-20251226-160707-war-room-war-room-debate-recurring_error.md:  "stack": "Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: \uc624\ub958:  \"debate_id\" \uce7c\ub7fc\uc740 \"ai_debate_sessions\" \ub9b4\ub808\uc774\uc158(relation)\uc5d0 \uc5c6\uc74c\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) \uc624\ub958:  \"debate_id\" \uce7c\ub7fc\uc740 \"ai_debate_sessions\" \ub9b4\ub808\uc774\uc158(relation)\uc5d0 \uc5c6\uc74c\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-131058', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"SELL\\\\\", \\\\\"confidence\\\\\": 0.85, \\\\\"reasoning\\\\\": \\\\\"\\\\uace0\\\\ubcc0\\\\ub3d9\\\\uc131 \\\\uacbd\\\\uace0 (45%),  ... (3295 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3911913554917248, 'created_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455487), 'completed_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455488), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n",
ai\skills\debugging\proposals\proposal-20251227-004213-war-room-war-room-debate-recurring_error.md:  "stack": "Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: \uc624\ub958:  \"debate_id\" \uce7c\ub7fc\uc740 \"ai_debate_sessions\" \ub9b4\ub808\uc774\uc158(relation)\uc5d0 \uc5c6\uc74c\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) \uc624\ub958:  \"debate_id\" \uce7c\ub7fc\uc740 \"ai_debate_sessions\" \ub9b4\ub808\uc774\uc158(relation)\uc5d0 \uc5c6\uc74c\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-131058', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"SELL\\\\\", \\\\\"confidence\\\\\": 0.85, \\\\\"reasoning\\\\\": \\\\\"\\\\uace0\\\\ubcc0\\\\ub3d9\\\\uc131 \\\\uacbd\\\\uace0 (45%),  ... (3295 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3911913554917248, 'created_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455487), 'completed_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455488), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n",
ai\skills\debugging\proposals\proposal-20251227-004813-war-room-war-room-debate-recurring_error.md:  "stack": "Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: \uc624\ub958:  \"debate_id\" \uce7c\ub7fc\uc740 \"ai_debate_sessions\" \ub9b4\ub808\uc774\uc158(relation)\uc5d0 \uc5c6\uc74c\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) \uc624\ub958:  \"debate_id\" \uce7c\ub7fc\uc740 \"ai_debate_sessions\" \ub9b4\ub808\uc774\uc158(relation)\uc5d0 \uc5c6\uc74c\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-131058', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"SELL\\\\\", \\\\\"confidence\\\\\": 0.85, \\\\\"reasoning\\\\\": \\\\\"\\\\uace0\\\\ubcc0\\\\ub3d9\\\\uc131 \\\\uacbd\\\\uace0 (45%),  ... (3295 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3911913554917248, 'created_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455487), 'completed_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455488), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n",
ai\skills\legacy\war-room\README.md:**API Router:** `backend/api/war_room_router.py`
ai\skills\logs\war-room\war-room-debate\errors-2025-12-25.jsonl:{"timestamp":"2025-12-25T18:40:59.468931","agent":"war-room/war-room-debate","task_id":"war-room-AAPL-20251225-184058","error":{"type":"TypeError","message":"'consensus_action' is an invalid keyword argument for AIDebateSession","stack":"Traceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 635, in run_war_room_debate\n    session = AIDebateSession(\n        ticker=ticker,\n    ...<13 lines>...\n        completed_at=datetime.now()\n    )\n  File \"<string>\", line 4, in __init__\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 596, in _initialize_instance\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 594, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\decl_base.py\", line 2179, in _declarative_constructor\n    raise TypeError(\n        \"%r is an invalid keyword argument for %s\" % (k, cls_.__name__)\n    )\nTypeError: 'consensus_action' is an invalid keyword argument for AIDebateSession\n","context":{"ticker":"AAPL","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:10:58.575471","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-131058","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-131058', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"SELL\\\\\", \\\\\"confidence\\\\\": 0.85, \\\\\"reasoning\\\\\": \\\\\"\\\\uace0\\\\ubcc0\\\\ub3d9\\\\uc131 \\\\uacbd\\\\uace0 (45%),  ... (3295 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3911913554917248, 'created_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455487), 'completed_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455488), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-131058', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"SELL\\\\\", \\\\\"confidence\\\\\": 0.85, \\\\\"reasoning\\\\\": \\\\\"\\\\uace0\\\\ubcc0\\\\ub3d9\\\\uc131 \\\\uacbd\\\\uace0 (45%),  ... (3295 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3911913554917248, 'created_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455487), 'completed_at': datetime.datetime(2025, 12, 26, 13, 10, 58, 455488), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:22:43.612846","agent":"war-room/war-room-debate","task_id":"war-room-AAPL-20251226-132243","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132243', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3019 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'BUY', 'consensus_confidence': 0.5431172149473013, 'created_at': datetime.datetime(2025, 12, 26, 13, 22, 43, 602796), 'completed_at': datetime.datetime(2025, 12, 26, 13, 22, 43, 602796), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132243', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3019 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'BUY', 'consensus_confidence': 0.5431172149473013, 'created_at': datetime.datetime(2025, 12, 26, 13, 22, 43, 602796), 'completed_at': datetime.datetime(2025, 12, 26, 13, 22, 43, 602796), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"AAPL","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:22:44.048821","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-132243","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132244', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3199 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3832466465918423, 'created_at': datetime.datetime(2025, 12, 26, 13, 22, 44, 43339), 'completed_at': datetime.datetime(2025, 12, 26, 13, 22, 44, 43340), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132244', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3199 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3832466465918423, 'created_at': datetime.datetime(2025, 12, 26, 13, 22, 44, 43339), 'completed_at': datetime.datetime(2025, 12, 26, 13, 22, 44, 43340), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:23:54.727698","agent":"war-room/war-room-debate","task_id":"war-room-AAPL-20251226-132354","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132354', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (2982 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.5912497821160886, 'created_at': datetime.datetime(2025, 12, 26, 13, 23, 54, 720088), 'completed_at': datetime.datetime(2025, 12, 26, 13, 23, 54, 720089), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132354', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (2982 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.5912497821160886, 'created_at': datetime.datetime(2025, 12, 26, 13, 23, 54, 720088), 'completed_at': datetime.datetime(2025, 12, 26, 13, 23, 54, 720089), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"AAPL","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:23:55.366363","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-132354","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132355', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"HOLD\\\\\", \\\\\"confidence\\\\\": 0.75, \\\\\"reasoning\\\\\": \\\\\"\\\\uc911\\\\uac04 \\\\ubcc0\\\\ub3d9\\\\uc131 (28%), \\\\ubca0 ... (3258 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.5562138330118491, 'created_at': datetime.datetime(2025, 12, 26, 13, 23, 55, 360917), 'completed_at': datetime.datetime(2025, 12, 26, 13, 23, 55, 360917), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132355', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"HOLD\\\\\", \\\\\"confidence\\\\\": 0.75, \\\\\"reasoning\\\\\": \\\\\"\\\\uc911\\\\uac04 \\\\ubcc0\\\\ub3d9\\\\uc131 (28%), \\\\ubca0 ... (3258 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.5562138330118491, 'created_at': datetime.datetime(2025, 12, 26, 13, 23, 55, 360917), 'completed_at': datetime.datetime(2025, 12, 26, 13, 23, 55, 360917), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:24:45.075798","agent":"war-room/war-room-debate","task_id":"war-room-AAPL-20251226-132444","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132445', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (2961 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.4191719635801408, 'created_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 67393), 'completed_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 67393), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132445', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (2961 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.4191719635801408, 'created_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 67393), 'completed_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 67393), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"AAPL","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:24:45.518141","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-132444","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132445', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3284 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'BUY', 'consensus_confidence': 0.4653713983610891, 'created_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 511438), 'completed_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 511438), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132445', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3284 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'BUY', 'consensus_confidence': 0.4653713983610891, 'created_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 511438), 'completed_at': datetime.datetime(2025, 12, 26, 13, 24, 45, 511438), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:26:10.186768","agent":"war-room/war-room-debate","task_id":"war-room-AAPL-20251226-132609","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132610', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"HOLD\\\\\", \\\\\"confidence\\\\\": 0.75, \\\\\"reasoning\\\\\": \\\\\"\\\\uc911\\\\uac04 \\\\ubcc0\\\\ub3d9\\\\uc131 (28%), \\\\ubca0 ... (2974 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.8128486593485694, 'created_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 180010), 'completed_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 180010), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'AAPL', 'debate_id': 'debate-AAPL-20251226-132610', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"HOLD\\\\\", \\\\\"confidence\\\\\": 0.75, \\\\\"reasoning\\\\\": \\\\\"\\\\uc911\\\\uac04 \\\\ubcc0\\\\ub3d9\\\\uc131 (28%), \\\\ubca0 ... (2974 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.8128486593485694, 'created_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 180010), 'completed_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 180010), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"AAPL","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T13:26:10.497088","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-132609","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132610', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3277 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3966221737946064, 'created_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 491844), 'completed_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 491844), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"debate_id\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, we...\n                                                ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-132610', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3277 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'HOLD', 'consensus_confidence': 0.3966221737946064, 'created_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 491844), 'completed_at': datetime.datetime(2025, 12, 26, 13, 26, 10, 491844), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T16:09:50.898440","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-160949","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"votes\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: ...NSERT INTO ai_debate_sessions (ticker, debate_id, votes, wei...\n                                                             ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-160950', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3268 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'BUY', 'consensus_confidence': 0.7514897933307975, 'created_at': datetime.datetime(2025, 12, 26, 16, 9, 50, 809228), 'completed_at': datetime.datetime(2025, 12, 26, 16, 9, 50, 809229), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"votes\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: ...NSERT INTO ai_debate_sessions (ticker, debate_id, votes, wei...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"votes\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: ...NSERT INTO ai_debate_sessions (ticker, debate_id, votes, wei...\n                                                             ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, weighted_result, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(weighted_result)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-160950', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"BUY\\\\\", \\\\\"confidence\\\\\": 0.87, \\\\\"reasoning\\\\\": \\\\\"\\\\ub0ae\\\\uc740 \\\\ubcc0\\\\ub3d9\\\\uc131 (18%), \\\\ucd5c\\ ... (3268 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'weighted_result': 'BUY', 'consensus_confidence': 0.7514897933307975, 'created_at': datetime.datetime(2025, 12, 26, 16, 9, 50, 809228), 'completed_at': datetime.datetime(2025, 12, 26, 16, 9, 50, 809229), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T23:34:22.718826","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-233421","error":{"type":"ProgrammingError","message":"(psycopg2.errors.UndefinedColumn) 오류:  \"duration_seconds\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: ..., consensus_confidence, created_at, completed_at, duration_s...\n                                                             ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, consensus_action, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(consensus_action)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-233422', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"HOLD\\\\\", \\\\\"confidence\\\\\": 0.75, \\\\\"reasoning\\\\\": \\\\\"\\\\uc911\\\\uac04 \\\\ubcc0\\\\ub3d9\\\\uc131 (28%), \\\\ubca0 ... (3271 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'consensus_action': 'BUY', 'consensus_confidence': 0.4685323873341217, 'created_at': datetime.datetime(2025, 12, 26, 23, 34, 22, 629917), 'completed_at': datetime.datetime(2025, 12, 26, 23, 34, 22, 629917), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.UndefinedColumn: 오류:  \"duration_seconds\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: ..., consensus_confidence, created_at, completed_at, duration_s...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 649, in run_war_room_debate\n    db.commit()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) 오류:  \"duration_seconds\" 칼럼은 \"ai_debate_sessions\" 릴레이션(relation)에 없음\nLINE 1: ..., consensus_confidence, created_at, completed_at, duration_s...\n                                                             ^\n\n[SQL: INSERT INTO ai_debate_sessions (ticker, debate_id, votes, consensus_action, consensus_confidence, created_at, completed_at, duration_seconds) VALUES (%(ticker)s, %(debate_id)s, %(votes)s::JSONB, %(consensus_action)s, %(consensus_confidence)s, %(created_at)s, %(completed_at)s, %(duration_seconds)s) RETURNING ai_debate_sessions.id]\n[parameters: {'ticker': 'NVDA', 'debate_id': 'debate-NVDA-20251226-233422', 'votes': '\"[{\\\\\"agent\\\\\": \\\\\"risk\\\\\", \\\\\"action\\\\\": \\\\\"HOLD\\\\\", \\\\\"confidence\\\\\": 0.75, \\\\\"reasoning\\\\\": \\\\\"\\\\uc911\\\\uac04 \\\\ubcc0\\\\ub3d9\\\\uc131 (28%), \\\\ubca0 ... (3271 characters truncated) ... \\\"description\\\\\": \\\\\"\\\\uc131\\\\uc7a5\\\\uc8fc \\\\uc131\\\\ud5a5 \\\\uac15\\\\ud568. \\\\ubc30\\\\ub2f9\\\\ub960 \\\\ub0ae\\\\uc74c\\\\\", \\\\\"sector\\\\\": \\\\\"Technology\\\\\"}}]\"', 'consensus_action': 'BUY', 'consensus_confidence': 0.4685323873341217, 'created_at': datetime.datetime(2025, 12, 26, 23, 34, 22, 629917), 'completed_at': datetime.datetime(2025, 12, 26, 23, 34, 22, 629917), 'duration_seconds': None}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-26.jsonl:{"timestamp":"2025-12-26T23:35:38.643850","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251226-233537","error":{"type":"AttributeError","message":"'AIDebateSession' object has no attribute 'constitutional_valid'","stack":"Traceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 735, in run_war_room_debate\n    \"constitutional_valid\": session.constitutional_valid\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'AIDebateSession' object has no attribute 'constitutional_valid'\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-27.jsonl:{"timestamp":"2025-12-27T01:45:20.382078","agent":"war-room/war-room-debate","task_id":"war-room-MSFT-20251227-014519","error":{"type":"TypeError","message":"'analysis_id' is an invalid keyword argument for TradingSignal","stack":"Traceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 669, in run_war_room_debate\n    signal = TradingSignal(\n        analysis_id=None,  # War Room은 analysis와 독립\n    ...<6 lines>...\n        generated_at=datetime.now()\n    )\n  File \"<string>\", line 4, in __init__\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 596, in _initialize_instance\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 594, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\decl_base.py\", line 2179, in _declarative_constructor\n    raise TypeError(\n        \"%r is an invalid keyword argument for %s\" % (k, cls_.__name__)\n    )\nTypeError: 'analysis_id' is an invalid keyword argument for TradingSignal\n","context":{"ticker":"MSFT","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-27.jsonl:{"timestamp":"2025-12-27T11:16:53.537415","agent":"war-room/war-room-debate","task_id":"war-room-GOOGL-20251227-111651","error":{"type":"InternalError","message":"(psycopg2.errors.InFailedSqlTransaction) 오류:  현재 트랜잭션은 중지되어 있습니다. 이 트랜잭션을 종료하기 전까지는 모든 명령이 무시될 것입니다\n\n[SQL: SELECT ai_debate_sessions.id AS ai_debate_sessions_id, ai_debate_sessions.ticker AS ai_debate_sessions_ticker, ai_debate_sessions.debate_id AS ai_debate_sessions_debate_id, ai_debate_sessions.votes AS ai_debate_sessions_votes, ai_debate_sessions.debate_transcript AS ai_debate_sessions_debate_transcript, ai_debate_sessions.consensus_action AS ai_debate_sessions_consensus_action, ai_debate_sessions.consensus_confidence AS ai_debate_sessions_consensus_confidence, ai_debate_sessions.created_at AS ai_debate_sessions_created_at, ai_debate_sessions.completed_at AS ai_debate_sessions_completed_at, ai_debate_sessions.duration_seconds AS ai_debate_sessions_duration_seconds \nFROM ai_debate_sessions \nWHERE ai_debate_sessions.id = %(pk_1)s]\n[parameters: {'pk_1': 31}]\n(Background on this error at: https://sqlalche.me/e/20/2j85)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.InFailedSqlTransaction: 오류:  현재 트랜잭션은 중지되어 있습니다. 이 트랜잭션을 종료하기 전까지는 모든 명령이 무시될 것입니다\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 724, in run_war_room_debate\n    session_id=session.id,\n               ^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\attributes.py\", line 569, in __get__\n    return self.impl.get(state, dict_)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\attributes.py\", line 1096, in get\n    value = self._fire_loader_callables(state, key, passive)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\attributes.py\", line 1126, in _fire_loader_callables\n    return state._load_expired(state, passive)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 828, in _load_expired\n    self.manager.expired_attribute_loader(self, toload, passive)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\loading.py\", line 1674, in load_scalar_attributes\n    result = load_on_ident(\n        session,\n    ...<4 lines>...\n        no_autoflush=no_autoflush,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\loading.py\", line 510, in load_on_ident\n    return load_on_pk_identity(\n        session,\n    ...<11 lines>...\n        is_user_refresh=is_user_refresh,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\loading.py\", line 695, in load_on_pk_identity\n    session.execute(\n    ~~~~~~~~~~~~~~~^\n        q,\n        ^^\n    ...<2 lines>...\n        bind_arguments=bind_arguments,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2249, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.InternalError: (psycopg2.errors.InFailedSqlTransaction) 오류:  현재 트랜잭션은 중지되어 있습니다. 이 트랜잭션을 종료하기 전까지는 모든 명령이 무시될 것입니다\n\n[SQL: SELECT ai_debate_sessions.id AS ai_debate_sessions_id, ai_debate_sessions.ticker AS ai_debate_sessions_ticker, ai_debate_sessions.debate_id AS ai_debate_sessions_debate_id, ai_debate_sessions.votes AS ai_debate_sessions_votes, ai_debate_sessions.debate_transcript AS ai_debate_sessions_debate_transcript, ai_debate_sessions.consensus_action AS ai_debate_sessions_consensus_action, ai_debate_sessions.consensus_confidence AS ai_debate_sessions_consensus_confidence, ai_debate_sessions.created_at AS ai_debate_sessions_created_at, ai_debate_sessions.completed_at AS ai_debate_sessions_completed_at, ai_debate_sessions.duration_seconds AS ai_debate_sessions_duration_seconds \nFROM ai_debate_sessions \nWHERE ai_debate_sessions.id = %(pk_1)s]\n[parameters: {'pk_1': 31}]\n(Background on this error at: https://sqlalche.me/e/20/2j85)\n","context":{"ticker":"GOOGL","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-27.jsonl:{"timestamp":"2025-12-27T11:27:07.469763","agent":"war-room/war-room-debate","task_id":"war-room-NVDA-20251227-112705","error":{"type":"InternalError","message":"(psycopg2.errors.InFailedSqlTransaction) 오류:  현재 트랜잭션은 중지되어 있습니다. 이 트랜잭션을 종료하기 전까지는 모든 명령이 무시될 것입니다\n\n[SQL: SELECT ai_debate_sessions.id AS ai_debate_sessions_id, ai_debate_sessions.ticker AS ai_debate_sessions_ticker, ai_debate_sessions.debate_id AS ai_debate_sessions_debate_id, ai_debate_sessions.votes AS ai_debate_sessions_votes, ai_debate_sessions.debate_transcript AS ai_debate_sessions_debate_transcript, ai_debate_sessions.consensus_action AS ai_debate_sessions_consensus_action, ai_debate_sessions.consensus_confidence AS ai_debate_sessions_consensus_confidence, ai_debate_sessions.created_at AS ai_debate_sessions_created_at, ai_debate_sessions.completed_at AS ai_debate_sessions_completed_at, ai_debate_sessions.duration_seconds AS ai_debate_sessions_duration_seconds \nFROM ai_debate_sessions \nWHERE ai_debate_sessions.id = %(pk_1)s]\n[parameters: {'pk_1': 33}]\n(Background on this error at: https://sqlalche.me/e/20/2j85)","stack":"Traceback (most recent call last):\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.errors.InFailedSqlTransaction: 오류:  현재 트랜잭션은 중지되어 있습니다. 이 트랜잭션을 종료하기 전까지는 모든 명령이 무시될 것입니다\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 725, in run_war_room_debate\n    session_id=session.id,\n               ^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\attributes.py\", line 569, in __get__\n    return self.impl.get(state, dict_)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\attributes.py\", line 1096, in get\n    value = self._fire_loader_callables(state, key, passive)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\attributes.py\", line 1126, in _fire_loader_callables\n    return state._load_expired(state, passive)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 828, in _load_expired\n    self.manager.expired_attribute_loader(self, toload, passive)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\loading.py\", line 1674, in load_scalar_attributes\n    result = load_on_ident(\n        session,\n    ...<4 lines>...\n        no_autoflush=no_autoflush,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\loading.py\", line 510, in load_on_ident\n    return load_on_pk_identity(\n        session,\n    ...<11 lines>...\n        is_user_refresh=is_user_refresh,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\loading.py\", line 695, in load_on_pk_identity\n    session.execute(\n    ~~~~~~~~~~~~~~~^\n        q,\n        ^^\n    ...<2 lines>...\n        bind_arguments=bind_arguments,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\session.py\", line 2249, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.InternalError: (psycopg2.errors.InFailedSqlTransaction) 오류:  현재 트랜잭션은 중지되어 있습니다. 이 트랜잭션을 종료하기 전까지는 모든 명령이 무시될 것입니다\n\n[SQL: SELECT ai_debate_sessions.id AS ai_debate_sessions_id, ai_debate_sessions.ticker AS ai_debate_sessions_ticker, ai_debate_sessions.debate_id AS ai_debate_sessions_debate_id, ai_debate_sessions.votes AS ai_debate_sessions_votes, ai_debate_sessions.debate_transcript AS ai_debate_sessions_debate_transcript, ai_debate_sessions.consensus_action AS ai_debate_sessions_consensus_action, ai_debate_sessions.consensus_confidence AS ai_debate_sessions_consensus_confidence, ai_debate_sessions.created_at AS ai_debate_sessions_created_at, ai_debate_sessions.completed_at AS ai_debate_sessions_completed_at, ai_debate_sessions.duration_seconds AS ai_debate_sessions_duration_seconds \nFROM ai_debate_sessions \nWHERE ai_debate_sessions.id = %(pk_1)s]\n[parameters: {'pk_1': 33}]\n(Background on this error at: https://sqlalche.me/e/20/2j85)\n","context":{"ticker":"NVDA","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\logs\war-room\war-room-debate\errors-2025-12-27.jsonl:{"timestamp":"2025-12-27T11:35:00.711850","agent":"war-room/war-room-debate","task_id":"war-room-MSFT-20251227-113459","error":{"type":"TypeError","message":"'constitutional_valid' is an invalid keyword argument for AIDebateSession","stack":"Traceback (most recent call last):\n  File \"D:\\code\\ai-trading-system\\backend\\api\\war_room_router.py\", line 658, in run_war_room_debate\n    session = AIDebateSession(\n        ticker=ticker,\n    ...<6 lines>...\n        completed_at=datetime.now()\n    )\n  File \"<string>\", line 4, in __init__\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 596, in _initialize_instance\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\state.py\", line 594, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\a\\AppData\\Roaming\\Python\\Python314\\site-packages\\sqlalchemy\\orm\\decl_base.py\", line 2179, in _declarative_constructor\n    raise TypeError(\n        \"%r is an invalid keyword argument for %s\" % (k, cls_.__name__)\n    )\nTypeError: 'constitutional_valid' is an invalid keyword argument for AIDebateSession\n","context":{"ticker":"MSFT","execute_trade":false}},"impact":"CRITICAL","recovery_attempted":false}
ai\skills\system\debugging-agent\SKILL.md:cat backend/api/war_room_router.py
ai\skills\system\debugging-agent\SKILL.md:1. Error occurs in `war_room_router.py:L622`
ai\skills\system\debugging-agent\SKILL.md:**File**: `backend/api/war_room_router.py`
ai\skills\system\debugging-agent\SKILL.md:1. Apply fix to `war_room_router.py`
api\__pycache__\war_room_router.cpython-314.pyc:MacroAgent)InstitutionalAgent)ChipWarAgent)DividendRiskAgent)Constitution)AgentLogger)ExecutionLogErrorLogExecutionStatusErrorImpactzwar-room-debatezwar-roomz/api/war-room)prefixtagsc                   0   a  ] tR t^At o RtV 3R ltRtV tR# )DebateRequestu   War Room 토론 요청c                &   < V ^8  d   Qh/ S[ ;R&   # )   ticker)str)format__classdict__s   "8D:\code\ai-trading-system\backend\api\war_room_router.py__annotate__DebateRequest.__annotate__A   s     K      N__name__
main.py:    from backend.api.war_room_router import router as war_room_router
main.py:    app.include_router(war_room_router)
tests\test_war_room_e2e.py:from backend.api.war_room_router import get_war_room_engine
tests\test_war_room_with_sec.py:from backend.api.war_room_router import get_war_room_engine
__pycache__\main.cpython-313.pyc:kis_routerrq  backend.api.kis_sync_routerkis_sync_routerKIS_SYNC_AVAILABLEbackend.api.ai_signals_routerai_signals_routerAI_SIGNALS_AVAILABLEbackend.api.consensus_routerconsensus_routerCONSENSUS_AVAILABLEbackend.api.position_routerposition_routerPOSITION_AVAILABLEbackend.api.global_macro_routerglobal_macro_routerGLOBAL_MACRO_AVAILABLEbackend.api.auto_trade_routerauto_trade_routerAUTO_TRADE_AVAILABLEbackend.api.stock_price_routerstock_price_routerSTOCK_PRICE_AVAILABLEbackend.api.ceo_analysis_routerceo_analysis_routerCEO_ANALYSIS_AVAILABLEbackend.api.incremental_routerincremental_routerINCREMENTAL_AVAILABLEbackend.api.reports_routerreports_routerREPORTS_AVAILABLEbackend.api.chart_routerchart_routerCHART_AVAILABLEbackend.api.reasoning_apireasoning_routerREASONING_AVAILABLEr    r   r!   r"   r^   r#   r   r$   add_middlewarefastapi.staticfilesr   makedirsmountr   r   r   r   r   r   r]   re   rf   include_routerbackend.api.war_room_routerwar_room_router%backend.api.war_room_analytics_routerwar_room_analytics_router'backend.api.signal_consolidation_routersignal_consolidation_routerbackend.api.orders_routerorders_routerbackend.api.portfolio_routerportfolio_routerbackend.api.performance_routerperformance_router$backend.api.weight_adjustment_routerweight_routerr   backend.api.dividend_routerdividend_router!backend.api.accountability_routeraccountability_router"backend.routers.kill_switch_routerkill_switch_routerbackend.api.multi_asset_routermulti_asset_routerMULTI_ASSET_AVAILABLE)backend.api.portfolio_optimization_routerportfolio_opt_routerPORTFOLIO_OPT_AVAILABLE#backend.api.failure_learning_routerfailure_learning_routerFAILURE_LEARNING_AVAILABLEbackend.api.correlation_routercorrelation_routerCORRELATION_AVAILABLEbackend.api.emergency_routeremergency_routerrp   monitoring_routerbackend.api.briefing_routerbriefing_routerbackend.api.routersr   backend.api.feedback_routerfeedback_router backend.api.data_backfill_routerdata_backfill_routerbackend.api.persona_routerpersona_routerbackend.api.thesis_routerthesis_routerbackend.api.journey_routerjourney_routerbackend.api.partitions_routerpartitions_routerbackend.api.strategy_routerr   r   r   r   r   backend.api.intelligence_routerintelligence_routerr   r   r   r   rs   r   r   r   r   r   postrU  rZ  r   r   rm  r  r  r  r  r  r  r  r  r  r  r  rH  war_room_mvp_routerr-   r.   r/   <module>r     s  "   	 ( & & * D D 2 =  X T T  &   *  & &w'7'7 8			8	$ U
__pycache__\main.cpython-314.pyc:charts_dirmakedirsmountr\   r   r   r   r   r   r   rg   rh   include_routerbackend.api.war_room_routerwar_room_router%backend.api.war_room_analytics_routerwar_room_analytics_router'backend.api.signal_consolidation_routersignal_consolidation_routerbackend.api.orders_routerorders_routerbackend.api.portfolio_routerportfolio_routerbackend.api.performance_routerperformance_router$backend.api.weight_adjustment_routerweight_routerr   backend.api.dividend_routerdividend_router!backend.api.accountability_routeraccountability_router"backend.routers.kill_switch_routerkill_switch_routerbackend.api.multi_asset_routermulti_asset_routerMULTI_ASSET_AVAILABLE)backend.api.portfolio_optimization_routerportfolio_opt_routerPORTFOLIO_OPT_AVAILABLE#backend.api.failure_learning_routerfailure_learning_routerFAILURE_LEARNING_AVAILABLEbackend.api.correlation_routercorrelation_routerCORRELATION_AVAILABLEbackend.api.emergency_routeremergency_routerrr   monitoring_routerbackend.api.briefing_routerbriefing_routerbackend.api.routersr   backend.api.feedback_routerfeedback_router backend.api.data_backfill_routerdata_backfill_routerbackend.api.persona_routerpersona_routerbackend.api.thesis_routerthesis_routerbackend.api.journey_routerjourney_routerbackend.api.partitions_routerpartitions_routerbackend.api.strategy_routerr   r   r   r   r   backend.api.intelligence_routerintelligence_routerr   r   r   r   ru   r   r   r   r  r  postrg  ro  r  r  r  r  r  r  r  r  r  r  r  r  rZ  war_room_mvp_routerr%   )r  s   @r$   <module>r     sw  "   	 ( & & *   D D 2 =  X T T  &   *  & &w'7'7 8			8	$ U
