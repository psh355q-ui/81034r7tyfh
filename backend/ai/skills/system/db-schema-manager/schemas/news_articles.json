{
    "table_name": "news_articles",
    "description": "RSS 크롤링된 뉴스 기사",
    "primary_key": "id",
    "columns": [
        {
            "name": "id",
            "type": "INTEGER",
            "nullable": false,
            "auto_increment": true,
            "description": "고유 ID"
        },
        {
            "name": "title",
            "type": "VARCHAR(500)",
            "nullable": false,
            "description": "기사 제목"
        },
        {
            "name": "content",
            "type": "TEXT",
            "nullable": false,
            "description": "기사 본문"
        },
        {
            "name": "url",
            "type": "VARCHAR(1000)",
            "nullable": false,
            "unique": true,
            "description": "기사 원문 URL"
        },
        {
            "name": "source",
            "type": "VARCHAR(100)",
            "nullable": false,
            "description": "뉴스 출처",
            "example": "TechCrunch"
        },
        {
            "name": "summary",
            "type": "TEXT",
            "nullable": true,
            "description": "기사 요약"
        },
        {
            "name": "published_date",
            "type": "TIMESTAMP",
            "nullable": false,
            "description": "기사 발행 시각"
        },
        {
            "name": "crawled_at",
            "type": "TIMESTAMP",
            "nullable": false,
            "default": "CURRENT_TIMESTAMP",
            "description": "크롤링 시각"
        },
        {
            "name": "content_hash",
            "type": "VARCHAR(64)",
            "nullable": false,
            "unique": true,
            "description": "중복 체크용 해시"
        },
        {
            "name": "author",
            "type": "VARCHAR(200)",
            "nullable": true,
            "description": "기사 작성자"
        },
        {
            "name": "embedding",
            "type": "FLOAT[]",
            "nullable": true,
            "description": "벡터 임베딩 (ARRAY)"
        },
        {
            "name": "tags",
            "type": "VARCHAR[]",
            "nullable": true,
            "description": "태그 배열"
        },
        {
            "name": "tickers",
            "type": "VARCHAR[]",
            "nullable": true,
            "description": "관련 종목 코드 배열"
        },
        {
            "name": "sentiment_score",
            "type": "FLOAT",
            "nullable": true,
            "description": "감성 점수"
        },
        {
            "name": "sentiment_label",
            "type": "VARCHAR(20)",
            "nullable": true,
            "description": "감성 라벨"
        },
        {
            "name": "source_category",
            "type": "VARCHAR(50)",
            "nullable": true,
            "description": "출처 카테고리"
        },
        {
            "name": "metadata",
            "type": "JSONB",
            "nullable": true,
            "description": "추가 메타데이터"
        },
        {
            "name": "processed_at",
            "type": "TIMESTAMP",
            "nullable": true,
            "description": "NLP 처리 완료 시각"
        },
        {
            "name": "feed_source",
            "type": "VARCHAR(64)",
            "nullable": true,
            "description": "피드 소스 타입 (rss | newsapi)"
        },
        {
            "name": "keywords",
            "type": "JSON",
            "nullable": true,
            "description": "키워드 리스트"
        },
        {
            "name": "top_image",
            "type": "VARCHAR(2048)",
            "nullable": true,
            "description": "대표 이미지 URL"
        },
        {
            "name": "updated_at",
            "type": "TIMESTAMP",
            "nullable": true,
            "description": "수정 시각"
        },
        {
            "name": "has_tags",
            "type": "BOOLEAN",
            "nullable": false,
            "default": false,
            "description": "태그 존재 여부"
        },
        {
            "name": "has_embedding",
            "type": "BOOLEAN",
            "nullable": false,
            "default": false,
            "description": "임베딩 존재 여부"
        },
        {
            "name": "rag_indexed",
            "type": "BOOLEAN",
            "nullable": false,
            "default": false,
            "description": "RAG 인덱싱 여부"
        },
        {
            "name": "embedding_model",
            "type": "VARCHAR(100)",
            "nullable": true,
            "description": "사용된 임베딩 모델"
        },
        {
            "name": "glm_analysis",
            "type": "JSONB",
            "nullable": true,
            "description": "GLM-4.7 뉴스 해석 결과 (Phase 0)"
        },
        {
            "name": "narrative_phase",
            "type": "VARCHAR(20)",
            "nullable": true,
            "description": "내러티브 단계: EMERGING, ACCELERATING, CONSENSUS, FATIGUED, REVERSING (ChatGPT P0)"
        },
        {
            "name": "narrative_strength",
            "type": "FLOAT",
            "nullable": true,
            "description": "내러티브 강도: 0.0 ~ 1.0 (ChatGPT P0)"
        },
        {
            "name": "narrative_consensus",
            "type": "FLOAT",
            "nullable": true,
            "description": "내러티브 컨센서스: 0.0 ~ 1.0 (ChatGPT P0)"
        },
        {
            "name": "fact_verification_status",
            "type": "VARCHAR(20)",
            "nullable": true,
            "description": "팩트 검증 상태: VERIFIED, PARTIAL, MISMATCH, UNVERIFIED (Gemini P0)"
        },
        {
            "name": "fact_confidence_adjustment",
            "type": "FLOAT",
            "nullable": false,
            "default": 0.0,
            "description": "신뢰도 조정: -0.2 ~ +0.1 (Gemini P0)"
        },
        {
            "name": "price_correlation_score",
            "type": "FLOAT",
            "nullable": true,
            "description": "가격 상관관계 점수: -1.0 ~ 1.0 (ChatGPT P0)"
        },
        {
            "name": "confirmation_status",
            "type": "VARCHAR(20)",
            "nullable": true,
            "description": "시장 확인 상태: CONFIRMED, DIVERGENT, LEADING, NOISE (ChatGPT P0)"
        },
        {
            "name": "narrative_tags",
            "type": "VARCHAR[]",
            "nullable": true,
            "description": "팩트 vs 내러티브 태그 (P0)"
        },
        {
            "name": "horizon_tags",
            "type": "VARCHAR[]",
            "nullable": true,
            "description": "시간축 태그: SHORT, MEDIUM, LONG (ChatGPT P1)"
        }
    ],
    "indexes": [
        {
            "name": "idx_news_published_date",
            "columns": [
                "published_date"
            ],
            "unique": false,
            "description": "발행일 조회"
        },
        {
            "name": "idx_news_source",
            "columns": [
                "source"
            ],
            "unique": false,
            "description": "출처별 조회"
        },
        {
            "name": "idx_news_crawled_at",
            "columns": [
                "crawled_at"
            ],
            "unique": false,
            "description": "크롤링 시각 조회"
        },
        {
            "name": "idx_news_tickers",
            "columns": [
                "tickers"
            ],
            "type": "GIN",
            "description": "티커 배열 검색"
        },
        {
            "name": "idx_news_tags",
            "columns": [
                "tags"
            ],
            "type": "GIN",
            "description": "태그 배열 검색"
        },
        {
            "name": "idx_news_content_hash",
            "columns": [
                "content_hash"
            ],
            "unique": true,
            "description": "중복 체크"
        },
        {
            "name": "idx_news_narrative_phase",
            "columns": [
                "narrative_phase"
            ],
            "unique": false,
            "description": "내러티브 단계 조회 (Market Intelligence v2.0)",
            "partial": "narrative_phase IS NOT NULL"
        },
        {
            "name": "idx_news_fact_status",
            "columns": [
                "fact_verification_status"
            ],
            "unique": false,
            "description": "팩트 검증 상태 조회 (Market Intelligence v2.0)",
            "partial": "fact_verification_status IS NOT NULL"
        },
        {
            "name": "idx_news_confirmation_status",
            "columns": [
                "confirmation_status"
            ],
            "unique": false,
            "description": "시장 확인 상태 조회 (Market Intelligence v2.0)",
            "partial": "confirmation_status IS NOT NULL"
        }
    ],
    "metadata": {
        "category": "content",
        "repository": "NewsRepository",
        "module": "News Collection & Analysis",
        "created": "2024-01-01",
        "last_updated": "2026-01-18",
        "update_frequency": "Real-time (continuous)",
        "data_source": "RSS, NewsAPI",
        "related_files": [
            "backend/database/models.py",
            "backend/database/repository.py",
            "backend/news/enhanced_news_crawler.py",
            "backend/ai/intelligence/narrative_state_engine.py",
            "backend/ai/intelligence/fact_checker.py",
            "backend/ai/intelligence/market_confirmation.py"
        ],
        "notes": "Market Intelligence v2.0 확장: Narrative/Fact/Market 확인 필드 추가. embedding은 ARRAY(Float) 사용",
        "market_intelligence_v2": true,
        "phase": "Phase 0"
    }
}