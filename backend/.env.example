# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# TimescaleDB Configuration
TIMESCALE_HOST=localhost
TIMESCALE_PORT=5434   # Changed: 5432→5434 (Docker uses 5434 to avoid local PostgreSQL conflict)
TIMESCALE_DATABASE=ai_trading
TIMESCALE_USER=postgres
TIMESCALE_PASSWORD=CHANGE_THIS_STRONG_PASSWORD  # ⚠️ Generate with: openssl rand -base64 32
TIMESCALE_MIN_POOL_SIZE=5
TIMESCALE_MAX_POOL_SIZE=20
# Full URL format (alternative)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ai_trading

# Claude AI API
CLAUDE_API_KEY=sk-ant-xxxxxxxxxxxxx
CLAUDE_MODEL=claude-3-haiku-20240307
CLAUDE_MAX_TOKENS=1000
CLAUDE_TEMPERATURE=0.0

# ChatGPT API (Optional - for AI 3대장 ensemble)
OPENAI_API_KEY=sk-xxxxxxxxxxxxx
OPENAI_MODEL=gpt-4-turbo-preview

# Gemini API (Optional - for AI 3대장 ensemble)
GOOGLE_API_KEY=xxxxxxxxxxxxx
GEMINI_MODEL=gemini-pro

# Korean Investment Securities API (KIS) - Optional for trading
KIS_APP_KEY=xxxxxxxxxxxxx
KIS_APP_SECRET=xxxxxxxxxxxxx
KIS_ACCOUNT_NUMBER=12345678
KIS_CANO=xxxxx
KIS_ACNT_PRDT_CD=01
KIS_URL_BASE=https://openapi.koreainvestment.com:9443
KIS_MOCK_MODE=true

# Feature Store Configuration
FEATURE_CACHE_TTL_INTRADAY=300         # 5 minutes for real-time features
FEATURE_CACHE_TTL_DAILY=86400          # 24 hours for daily features
FEATURE_CACHE_WARM_UP_TICKERS=AAPL,MSFT,NVDA,GOOGL,TSLA,AMZN,META,SPY,QQQ,DIA
FEATURE_ENABLE_DISTRIBUTED_LOCK=true

# Application Settings
APP_ENV=development                     # development, staging, production
APP_LOG_LEVEL=INFO                      # DEBUG, INFO, WARNING, ERROR
APP_DEBUG=true
APP_HOST=0.0.0.0
APP_PORT=8000
APP_WORKERS=4

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_ENABLED=true
GRAFANA_PORT=3001

# Security
SECRET_KEY=your-secret-key-here-change-in-production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true

# Data Sources
YAHOO_FINANCE_RATE_LIMIT=2000          # requests per hour
YAHOO_FINANCE_CACHE_TTL=86400          # 24 hours

# Backtest Settings
BACKTEST_START_DATE=2020-01-01
BACKTEST_END_DATE=2024-12-31
BACKTEST_INITIAL_CAPITAL=100000

# Risk Management
KILL_SWITCH_DAILY_LOSS_PCT=2.0         # -2% daily loss triggers kill switch
STOP_LOSS_FIXED_PCT=3.0                # 3% fixed stop loss
STOP_LOSS_TRAILING_PCT=5.0             # 5% trailing stop loss
MAX_POSITION_SIZE_PCT=5.0              # max 5% per ticker
MAX_SECTOR_CONCENTRATION_PCT=40.0      # max 40% in one sector

# Cost Tracking
TARGET_MONTHLY_COST_USD=1.0            # alert if monthly cost > $1
COST_TRACKING_ENABLED=true

# Telegram Notifications
TELEGRAM_BOT_TOKEN=                     # Get from @BotFather on Telegram
TELEGRAM_CHAT_ID=                       # Your Telegram chat ID (or group chat ID)
TELEGRAM_ENABLED=false                  # Enable/disable Telegram notifications
TELEGRAM_NOTIFY_ON_BUY=true             # Send notification on BUY signals
TELEGRAM_NOTIFY_ON_SELL=true            # Send notification on SELL signals
TELEGRAM_NOTIFY_ON_HOLD=false           # Send notification on HOLD signals (usually not needed)
TELEGRAM_NOTIFY_ON_RISK=true            # Send notification on risk alerts
TELEGRAM_DAILY_REPORT_HOUR=21           # Hour to send daily report (0-23, Korea time)
TELEGRAM_RATE_LIMIT_PER_MINUTE=20       # Maximum messages per minute
